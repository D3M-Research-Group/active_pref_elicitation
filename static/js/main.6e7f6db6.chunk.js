(this.webpackJsonpape_code=this.webpackJsonpape_code||[]).push([[0],{119:function(e,t){},131:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},193:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),s=a.n(i),o=(a(130),a(131),a(14)),c=a.n(o),l=a(59),h=a(4),d=a(5),u=a(17),p=a(6),m=a(8),b=a(308),j=a(115),g=a.n(j),f=a(303),v=a(309),O=a(1),y=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).nextPage=n.nextPage.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"nextPage",value:function(){this.props.toggleStartPage(),this.props.toggleUserInfoForm()}},{key:"render",value:function(){return this.props.showStartPage?Object(O.jsxs)(f.a,{children:[Object(O.jsx)("h2",{children:"Help make a difference!"}),Object(O.jsxs)("p",{className:"lead",children:["The questionnaires are designed to learn your preferences by displaying outcomes of different policies and learning your choices. New policy outcomes are displayed after each choice you make. The ",Object(O.jsx)("b",{children:"adaptive questionnaire"})," is tailored to ask questions based on your previous choices. You can start  the ",Object(O.jsx)("b",{children:"Adaptive"})," questionnaire by clicking on the button below. Please take the survey ",Object(O.jsx)("b",{children:"only once"}),". Once logged in, ",Object(O.jsx)("b",{children:"please do not log out and log back in again"}),". For the survey to be accepted please take it only once and complete it without logging out and back in.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"What happens if there isn\u2019t enough medical equipment available to treat every person who gets sick with COVID-19? Who gets an ICU bed? Who gets a ventilator? Our goal is meant to find a set of guidelines to help healthcare providers decide which patients would get a bed, ventilator, or receive other lifesaving treatments in a critical care unit in an",Object(O.jsx)("b",{children:" event where there are more patients than necessary resources. "}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Note: Once the policy selection button is clicked you may not change your response."]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{color:"primary",size:"lg",type:"submit",onClick:this.nextPage,children:" Start Adaptive Questionnaire"})]})]}):null}}]),a}(r.a.Component),x=a(18),S=a(304),D=a(305),w=a(306),C=a(307),k=a(46),N=(a(176),a(177),{type:"object",properties:{username:{type:"string",minLength:1},age:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},race_ethnicity:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},gender:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},marital_status:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},education:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},political:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},positive_family:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},positive_anyone:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},healthcare_yn:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},healthcare_role:{type:"string",minLength:1}},required:["username","age","race_ethnicity","gender","marital_status","education","political","positive_family","positive_anyone","healthcare_yn","healthcare_role"]}),I=a(10),_=a(16),A=["loading","success"],M=function(e){var t=e.loading,a=e.success,n=Object(_.a)(e,A);return Object(O.jsx)(v.a,Object(I.a)(Object(I.a)({color:a?"success":"primary",disabled:t||a,size:"xl",type:"submit"},n),{},{children:t?"Loading":a?"Success":"Submit"}))};M.defaultProps={loading:!1,success:!1};var P=M,F=a(124),B=(a(178),function(e){return Object(O.jsx)(F.a,Object(I.a)({classNamePrefix:"Jvf_Select"},e))}),U=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={formData:{username:"",age:"",race_ethnicity:"",gender:"",marital_status:"",education:"",political:"",positive_family:"",positive_anyone:"",healthcare_yn:"",healthcare_role:"",defaultMessage:k.defaultMessage,selectFieldMessage:k.selectFieldMessage,usernameFieldMessage:k.usernameFieldMessage,healthcareroleFieldMessage:k.healthcareroleFieldMessage},loading:!1,success:!1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({formData:e,success:!1})}},{key:"handleSubmit",value:function(){var e=this;this.setState({loading:!0}),this.props.updateUserInfo(this.state.formData),setTimeout((function(){e.setState({loading:!1,success:!0})}),1e3),this.props.toggleUserInfoForm(),this.props.incrementStep()}},{key:"render",value:function(){if(!this.props.showForm)return null;var e=this.state,t=e.formData,a=e.loading,n=e.success;return Object(O.jsx)(f.a,{children:Object(O.jsxs)(x.c,{data:t,onChange:this.handleChange,onSubmit:this.handleSubmit,schema:N,children:[Object(O.jsxs)(S.a,{className:"mb-4",children:[Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"Worker ID (Please use the MTurk Worker ID that we use to verify payment)"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{name:"username",value:t.username,type:"input"}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.usernameFieldMessage}},name:"username"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is your age group?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"age",isClearable:!0,onChange:function(e,t){return t("age",e)},options:[{name:"18-39",label:"18-39",value:"18-39"},{name:"40-49",label:"40-49",value:"40-49"},{name:"50-59",label:"50-59",value:"50-59"},{name:"60-69",label:"60-69",value:"60-69"},{name:"70-79",label:"70-79",value:"70-79"},{name:"80+",label:"80+",value:"80+"}],value:t.age}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"age"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is your race/ethnicity?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"race_ethnicity",isClearable:!0,onChange:function(e,t){return t("race_ethnicity",e)},options:[{name:"American Indian or Alaska Native",label:"American Indian or Alaska Native",value:"American Indian or Alaska Native"},{name:"Asian",label:"Asian",value:"Asian"},{name:"Black or African American",label:"Black or African American",value:"Black or African American"},{name:"Hispanic or Latino",label:"Hispanic or Latino",value:"Hispanic or Latino"},{name:"Multiracial",label:"Multiracial",value:"Multiracial"},{name:"Native Hawaiian or Other Pacific Islander",label:"Native Hawaiian or Other Pacific Islander",value:"Native Hawaiian or Other Pacific Islander"},{name:"White",label:"White",value:"White"},{name:"Prefer not to Answer",label:"Prefer not to Answer",value:"Prefer not to Answer"}],value:t.race_ethnicity}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"race_ethnicity"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is your gender?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"gender",isClearable:!0,onChange:function(e,t){return t("gender",e)},options:[{name:"Female",label:"Female",value:"Female"},{name:"Male",label:"Male",value:"Male"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to answer",label:"Prefer not to answer",value:"Prefer not to answer"}],value:t.gender}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"gender"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is your marital status?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"marital_status",isClearable:!0,onChange:function(e,t){return t("marital_status",e)},options:[{name:"Single (Never Married)",label:"Single (Never Married)",value:"Single (Never Married)"},{name:"Married",label:"Married",value:"Married"},{name:"Divorced",label:"Divorced",value:"Divorced"},{name:"Widowed",label:"Widowed",value:"Widowed"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to answer",label:"Prefer not to answer",value:"Prefer not to answer"}],value:t.marital_status}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"marital_status"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is the highest degree or level of school you have completed?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"education",isClearable:!0,onChange:function(e,t){return t("education",e)},options:[{name:"No schooling completed",label:"No schooling completed",value:"No schooling completed"},{name:"Nursery school to 8th grade",label:"Nursery school to 8th grade",value:"Nursery school to 8th grade"},{name:"Some high school, no diploma",label:"Some high school, no diploma",value:"Some high school, no diploma"},{name:"High school graduate, diploma or the equivalent (for example: GED)",label:"High school graduate, diploma or the equivalent (for example: GED)",value:"High school graduate, diploma or the equivalent (for example: GED)"},{name:"Some college credit, no degree",label:"Some college credit, no degree",value:"Some college credit, no degree"},{name:"Trade/technical/vocational training",label:"Trade/technical/vocational training",value:"Trade/technical/vocational training"},{name:"Associate degree",label:"Associate degree",value:"Associate degree"},{name:"Bachelor\u2019s degree",label:"Bachelor\u2019s degree",value:"Bachelor\u2019s degree"},{name:"Master's degree",label:"Master's degree",value:"Master's degree"},{name:"Professional degree",label:"Professional degree",value:"Professional degree"},{name:"Doctorate degree",label:"Doctorate degree",value:"Doctorate degree"}],value:t.education}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"education"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"What is your political party affiliation?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"political",isClearable:!0,onChange:function(e,t){return t("political",e)},options:[{name:"Constitution",label:"Constitution",value:"Constitution"},{name:"Democratic",label:"Democratic",value:"Democratic"},{name:"Green",label:"Green",value:"Green"},{name:"Independent",label:"Independent",value:"Independent"},{name:"Libertarian",label:"Libertarian",value:"Libertarian"},{name:"Republican",label:"Republican",value:"Republican"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to Answer",label:"Prefer not to Answer",value:"Prefer not to Answer"}],value:t.political}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"political"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"Do you have family members who tested positive for COVID-19?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"positive_family",isClearable:!0,onChange:function(e,t){return t("positive_family",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"},{name:"Unsure",label:"Unsure",value:"Unsure"}],value:t.positive_family}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"positive_family"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"Do you know anyone (other than family members) who tested positive for COVID-19?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"positive_anyone",isClearable:!0,onChange:function(e,t){return t("positive_anyone",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"},{name:"Unsure",label:"Unsure",value:"Unsure"}],value:t.positive_anyone}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"positive_anyone"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:"Do you work in health care?"}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",component:B,name:"healthcare_yn",isClearable:!0,onChange:function(e,t){return t("healthcare_yn",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"}],value:t.healthcare_yn}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"healthcare_yn"})]})]}),Object(O.jsxs)(D.a,{children:[Object(O.jsx)(w.a,{style:{width:"100%"},children:'If you answered yes to the above question, what is your role? Otherwise enter "NA".'}),Object(O.jsxs)(C.a,{style:{width:"100%"},md:"4",children:[Object(O.jsx)(x.a,{className:"",name:"healthcare_role",value:t.healthcare_role,type:"input",placeholder:"NA"}),Object(O.jsx)(x.b,{errorMessages:{required:function(){return t.healthcareroleFieldMessage}},name:"healthcare_role"})]})]})]}),Object(O.jsx)(S.a,{className:"mb-4",children:Object(O.jsx)(C.a,{md:"10",className:"",children:Object(O.jsx)(P,{loading:a,success:n})})})]})})}}]),a}(r.a.Component),q=(a(193),function(){return Object(O.jsxs)("div",{class:"loading",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})}),E=a(119),W=a.n(E),L=[{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 1",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 2",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 3",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 4",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 5",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 6",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 7",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 8",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 9",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 10",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 3",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 3",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]},{title:"Indifferent \ud83e\udd37\u200d\u2640\ufe0f ",description:"I don't like either option more than the other. Step 3",graphData:[]}]}];a(15),a(25);var H=a(62);H.b.animation=!1;var T=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).data=n.props.data,n.plotOptions={responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{legend:{display:!1}}},n.createChartJsData=n.createChartJsData.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"createChartJsData",value:function(e){return{labels:e.labels.slice(0,6),datasets:[{data:e.values.slice(0,6),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}},{key:"render",value:function(){return Object(O.jsx)(H.a,{data:this.createChartJsData(this.data),options:this.plotOptions,redraw:!1})}}]),a}(r.a.Component),Y=(a(299),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"card",children:this.props.children})}}]),a}(r.a.Component)),J=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e="selectable "+(this.props.selected?"selected":"");return Object(O.jsx)(Y,{children:Object(O.jsxs)("div",{className:e,onClick:this.props.onClick,children:[this.props.children,Object(O.jsx)("div",{className:"check",children:Object(O.jsx)("span",{className:"checkmark",children:"\u2714"})})]})})}}]),a}(r.a.Component),G=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.selected,r=e.data;e.policy_id;return 0===r.length?Object(O.jsx)("div",{className:"col-sm-4 align-self-center",children:Object(O.jsx)(J,{onClick:this.props.onClick,selected:n,children:Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("h1",{className:"title",children:t}),Object(O.jsx)("p",{className:"description",children:a})]})})}):Object(O.jsx)("div",{className:"col-lg-6",children:Object(O.jsx)(J,{onClick:this.props.onClick,selected:n,children:Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("h1",{className:"title",children:t}),Object(O.jsx)("p",{className:"description",children:a}),Object(O.jsx)(f.a,{fluid:!0,children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-lg-6",id:"chartArea",children:Object(O.jsx)(T,{data:r})}),Object(O.jsx)("div",{className:"col-lg-6",id:"chartArea",children:Object(O.jsx)(T,{data:r})})]})})]})})})}}]),a}(r.a.Component),R=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e);var r={selected:(e.multiple?[]:-1).state};return n.state=r,n}return Object(d.a)(a,[{key:"onItemSelected",value:function(e){this.setState((function(t,a){if(a.multiple){var n=t.selected,r=n.indexOf(e);return r>-1?(n.splice(r,1),a.onChange(n)):n.length>=a.maxSelectable||(n.push(e),a.onChange(n)),{selected:n}}return a.onChange(e),{selected:e}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.contents,n=t.multiple;console.log(a);var r=a.map((function(t,a){var r=t.title,i=t.description,s=t.graphData,o=t.selected;o=n?e.state.selected.indexOf(a)>-1:e.state.selected===a;return Object(O.jsx)(G,{title:r,description:i,data:s,selected:o,onClick:function(t){return e.onItemSelected(a)}},a)}));return Object(O.jsxs)("div",{className:"cardlist",children:[Object(O.jsx)("div",{className:"row",children:r.splice(0,r.length-1)}),Object(O.jsx)("div",{className:"d-flex justify-content-center",children:r[r.length-1]})]})}}]),a}(r.a.Component),V=a(85);function z(e){return e.showError?Object(O.jsx)("div",{class:"d-flex justify-content-center",children:Object(O.jsxs)(V.a,{variant:"danger",className:"text-center",onClose:function(){return e.updateShowError(!1)},dismissible:!0,children:[Object(O.jsx)(V.a.Heading,{children:"Error"}),Object(O.jsx)("p",{children:"Please select one of the three options before clicking Next."})]})}):null}var K=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).submitChoice=function(e){e.preventDefault(),-1===n.state.selected?n.setState({showError:!0}):(n.incrementStep(),n.setState({showError:!1}),n.pushBackChoice(n.state.selected))},n.state={showError:!1,selected:-1},n.title=n.props.title,n.loading=n.props.loading,n.cardContents=n.props.cardContents,n.graphData=n.props.graphData,n.policy_ids=n.props.policy_ids,n.onListChanged=n.onListChanged.bind(Object(u.a)(n)),n.updateShowError=n.updateShowError.bind(Object(u.a)(n)),n.userChoices=n.props.userChoices,n.incrementStep=n.props.incrementStep,n.prepareCardData=n.prepareCardData.bind(Object(u.a)(n)),n.pushBackChoice=n.pushBackChoice.bind(Object(u.a)(n)),n.next=n.props.next,n}return Object(d.a)(a,[{key:"pushBackChoice",value:function(e){this.userChoices.push(e)}},{key:"onListChanged",value:function(e){this.setState({selected:e}),this.updateShowError(!1)}},{key:"updateShowError",value:function(e){this.setState({showError:e})}},{key:"prepareCardData",value:function(e,t,a){for(var n=e,r=0;r<a.length;r++)n[r].graphData=t[a[r]];return n}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"column",children:[this.loading?Object(O.jsx)(q,{}):null,this.loading?null:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:"title",children:this.props.title}),Object(O.jsx)(R,{contents:this.prepareCardData(this.cardContents,this.graphData,this.policy_ids),onChange:this.onListChanged}),Object(O.jsx)(z,{showError:this.state.showError,updateShowError:this.updateShowError}),Object(O.jsx)("button",{className:"card",onClick:function(t){e.submitChoice(t)},children:"Submit selection"})]})]})}}]),a}(r.a.Component),Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).stepNum=n.props.stepNum,n.currentStep=n.props.currentStep,n.data=n.props.data,n.loading=n.props.loading,n.userChoices=n.props.userChoices,n.incrementStep=n.props.incrementStep,n.policyData=n.props.policyData,n.policy_ids=n.props.policy_ids,n}return Object(d.a)(a,[{key:"render",value:function(){return this.currentStep!==this.stepNum?null:Object(O.jsx)(f.a,{fluid:!0,children:Object(O.jsx)(K,{title:"TEST",cardContents:this.data.cardData,loading:this.loading,userChoices:this.userChoices,incrementStep:this.incrementStep,graphData:this.policyData,policy_ids:this.policy_ids})})}}]),a}(r.a.Component),Z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).userChoices=n.props.userChoices,n.maxSteps=n.props.maxSteps,n.choiceData=n.props.choiceData,n.currentStep=n.props.currentStep,n.loading=n.props.loading,n.incrementStep=n.props.incrementStep,n.policyData=n.props.policyData,n.policy_ids=n.props.policy_ids,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=Array(this.maxSteps).fill().map((function(e,t){return t+1}));return Object(O.jsx)(f.a,{fluid:!0,children:t.map((function(t){return Object(O.jsx)(Q,{stepNum:t,currentStep:e.currentStep,data:e.choiceData[t-1],loading:e.loading,userChoices:e.userChoices,incrementStep:e.incrementStep,policyData:e.policyData,policy_ids:e.policy_ids},t.toString())}))})}}]),a}(r.a.Component),X=a(125),$=a.p+"static/media/UK_1360beds-25policies.175504d1.csv",ee=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(X.a)().key((function(e){return e.Parameter})).entries(t),n=a.map((function(e){var t=e.values[0];delete t.Parameter;var a=Object.keys(t).map((function(e){return Number(t[e])})),n=Object.keys(t).map((function(e){return e}));return{policy_id:e.key,values:a,labels:n}})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=a(48),ae=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={currentStep:0,userChoices:[],loading:!1,showUserInfoForm:!1,showStartPage:!0,showSteps:!1,policy_ids:[0,1],policyData:[],userInfo:{username:"",age:"",race_ethnicity:"",gender:"",marital_status:"",education:"",political:"",positive_family:"",positive_anyone:"",healthcare_yn:"",healthcare_role:""}},n.maxSteps=L.length,n.uuid=Object(b.a)(),n.graphData=W.a,n.choiceData=L,n.toggleUserInfoForm=n.toggleUserInfoForm.bind(Object(u.a)(n)),n.toggleStartPage=n.toggleStartPage.bind(Object(u.a)(n)),n.updateUserInfo=n.updateUserInfo.bind(Object(u.a)(n)),n.incrementStep=n.incrementStep.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"incrementStep",value:function(){this.setState({currentStep:this.state.currentStep+1},(function(){console.log(this.state.currentStep)})),0===this.state.currentStep&&this.toggleShowSteps()}},{key:"toggleShowSteps",value:function(){this.setState({showSteps:!this.state.showSteps})}},{key:"toggleStartPage",value:function(){this.setState({showStartPage:!this.state.showStartPage})}},{key:"toggleUserInfoForm",value:function(){this.setState({showUserInfoForm:!this.state.showUserInfoForm})}},{key:"updateUserInfo",value:function(e){var t=g.a.omit(e,["defaultMessage","selectFieldMessage","usernameFieldMessage","healthcareroleFieldMessage"]);this.setState({userInfo:t},(function(){console.log(this.state.userInfo)}))}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geolocation-db.com/json/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,this.setState({ip:a.IPv4}),n=new URLSearchParams(window.location.search),Object.fromEntries(n.entries()).mturk&&(this.mturk=!0),e.next=12,Object(te.a)($);case 12:return r=e.sent,e.next=15,ee(r);case 15:i=e.sent,this.setState({policyData:i},(function(){console.log(this.state.policyData)}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsxs)("h1",{children:["Active Preference Elicitation ",Object(O.jsx)("span",{role:"img","aria-label":"crystal ball",children:"\ud83d\udd2e"})," "]}),Object(O.jsx)(y,{showStartPage:this.state.showStartPage,toggleStartPage:this.toggleStartPage,toggleUserInfoForm:this.toggleUserInfoForm}),Object(O.jsx)(U,{showForm:this.state.showUserInfoForm,toggleUserInfoForm:this.toggleUserInfoForm,updateUserInfo:this.updateUserInfo,incrementStep:this.incrementStep}),this.state.showSteps?Object(O.jsx)(Z,{userChoices:this.state.userChoices,maxSteps:this.maxSteps,choiceData:this.choiceData,policyData:this.state.policyData,policy_ids:this.state.policy_ids,currentStep:this.state.currentStep,loading:this.state.loading,incrementStep:this.incrementStep},this.state.currentStep.toString()):null]})}}]),a}(r.a.Component),ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,310)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(ae,{})}),document.getElementById("root")),ne()},46:function(e,t){t.defaultMessage="Please fill out all required fields",t.selectFieldMessage="Please select one of the options",t.usernameFieldMessage="Please enter a Worker ID",t.healthcareroleFieldMessage="If you chose yes to the above question, please enter in your job title. Otherwise please enter in NA."}},[[300,1,2]]]);
//# sourceMappingURL=main.6e7f6db6.chunk.js.map