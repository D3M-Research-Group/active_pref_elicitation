(this.webpackJsonpape_code=this.webpackJsonpape_code||[]).push([[0],{163:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},222:function(e,t,a){},328:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(27),r=a.n(s),o=(a(162),a(163),a(19)),c=a.n(o),l=a(71),u=a(6),p=a(5),h=a(15),d=a(7),m=a(9),b=a(387),j=a(145),g=a.n(j),y=a(372),O=a(373),v=a(2),f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).nextPage=n.nextPage.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"nextPage",value:function(){this.props.toggleStartPage(),this.props.toggleUserInfoForm()}},{key:"render",value:function(){return this.props.showStartPage?Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)("h2",{children:"Help make a difference!"}),Object(v.jsxs)("p",{className:"lead",children:["The questionnaires are designed to learn your preferences by displaying outcomes of different policies and learning your choices. New policy outcomes are displayed after each choice you make. The ",Object(v.jsx)("b",{children:"adaptive questionnaire"})," is tailored to ask questions based on your previous choices. You can start  the ",Object(v.jsx)("b",{children:"Adaptive"})," questionnaire by clicking on the button below. Please take the survey ",Object(v.jsx)("b",{children:"only once"}),". Once logged in, ",Object(v.jsx)("b",{children:"please do not log out and log back in again"}),". For the survey to be accepted please take it only once and complete it without logging out and back in.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"What happens if there isn\u2019t enough medical equipment available to treat every person who gets sick with COVID-19? Who gets an ICU bed? Who gets a ventilator? Our goal is meant to find a set of guidelines to help healthcare providers decide which patients would get a bed, ventilator, or receive other lifesaving treatments in a critical care unit in an",Object(v.jsx)("b",{children:" event where there are more patients than necessary resources. "}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Note: Once the policy selection button is clicked you may not change your response."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(O.a,{color:"primary",size:"lg",type:"submit",onClick:this.nextPage,children:" Start Adaptive Questionnaire"})]})]})}):null}}]),a}(i.a.Component),x=a(22),C=a(374),D=a(375),N=a(376),S=a(377),w=a(58),k=(a(208),a(209),{type:"object",properties:{username:{type:"string",minLength:1},age:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},race_ethnicity:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},gender:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},marital_status:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},education:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},political:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},positive_family:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},positive_anyone:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},healthcare_yn:{type:"object",properties:{label:{type:"string",minimum:1},name:{type:"string",minimum:1},value:{type:"string",minimum:1}}},healthcare_role:{type:"string",minLength:1}},required:["username","age","race_ethnicity","gender","marital_status","education","political","positive_family","positive_anyone","healthcare_yn","healthcare_role"]}),_=a(26),A=a(11),P=["loading","success"],M=function(e){var t=e.loading,a=e.success,n=Object(A.a)(e,P);return Object(v.jsx)(O.a,Object(_.a)(Object(_.a)({color:a?"success":"primary",disabled:t||a,size:"xl",type:"submit"},n),{},{children:t?"Loading":a?"Success":"Submit"}))};M.defaultProps={loading:!1,success:!1};var F=M,I=a(152),T=(a(210),function(e){return Object(v.jsx)(I.a,Object(_.a)({classNamePrefix:"Jvf_Select"},e))}),B=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={formData:{username:"",age:"",race_ethnicity:"",gender:"",marital_status:"",education:"",political:"",positive_family:"",positive_anyone:"",healthcare_yn:"",healthcare_role:"",defaultMessage:w.defaultMessage,selectFieldMessage:w.selectFieldMessage,usernameFieldMessage:w.usernameFieldMessage,healthcareroleFieldMessage:w.healthcareroleFieldMessage},loading:!1,success:!1},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.setState({formData:e,success:!1})}},{key:"handleSubmit",value:function(){var e=this;this.setState({loading:!0}),this.props.updateUserInfo(this.state.formData),setTimeout((function(){e.setState({loading:!1,success:!0})}),1e3),this.props.toggleUserInfoForm(),this.props.incrementStep()}},{key:"render",value:function(){if(!this.props.showForm)return null;var e=this.state,t=e.formData,a=e.loading,n=e.success;return Object(v.jsx)(y.a,{children:Object(v.jsxs)(x.c,{data:t,onChange:this.handleChange,onSubmit:this.handleSubmit,schema:k,children:[Object(v.jsxs)(C.a,{className:"mb-4",children:[Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"Worker ID (Please use the MTurk Worker ID that we use to verify payment)"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{name:"username",value:t.username,type:"input"}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.usernameFieldMessage}},name:"username"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is your age group?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"age",isClearable:!0,onChange:function(e,t){return t("age",e)},options:[{name:"18-39",label:"18-39",value:"18-39"},{name:"40-49",label:"40-49",value:"40-49"},{name:"50-59",label:"50-59",value:"50-59"},{name:"60-69",label:"60-69",value:"60-69"},{name:"70-79",label:"70-79",value:"70-79"},{name:"80+",label:"80+",value:"80+"}],value:t.age}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"age"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is your race/ethnicity?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"race_ethnicity",isClearable:!0,onChange:function(e,t){return t("race_ethnicity",e)},options:[{name:"American Indian or Alaska Native",label:"American Indian or Alaska Native",value:"American Indian or Alaska Native"},{name:"Asian",label:"Asian",value:"Asian"},{name:"Black or African American",label:"Black or African American",value:"Black or African American"},{name:"Hispanic or Latino",label:"Hispanic or Latino",value:"Hispanic or Latino"},{name:"Multiracial",label:"Multiracial",value:"Multiracial"},{name:"Native Hawaiian or Other Pacific Islander",label:"Native Hawaiian or Other Pacific Islander",value:"Native Hawaiian or Other Pacific Islander"},{name:"White",label:"White",value:"White"},{name:"Prefer not to Answer",label:"Prefer not to Answer",value:"Prefer not to Answer"}],value:t.race_ethnicity}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"race_ethnicity"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is your gender?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"gender",isClearable:!0,onChange:function(e,t){return t("gender",e)},options:[{name:"Female",label:"Female",value:"Female"},{name:"Male",label:"Male",value:"Male"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to answer",label:"Prefer not to answer",value:"Prefer not to answer"}],value:t.gender}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"gender"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is your marital status?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"marital_status",isClearable:!0,onChange:function(e,t){return t("marital_status",e)},options:[{name:"Single (Never Married)",label:"Single (Never Married)",value:"Single (Never Married)"},{name:"Married",label:"Married",value:"Married"},{name:"Divorced",label:"Divorced",value:"Divorced"},{name:"Widowed",label:"Widowed",value:"Widowed"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to answer",label:"Prefer not to answer",value:"Prefer not to answer"}],value:t.marital_status}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"marital_status"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is the highest degree or level of school you have completed?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"education",isClearable:!0,onChange:function(e,t){return t("education",e)},options:[{name:"No schooling completed",label:"No schooling completed",value:"No schooling completed"},{name:"Nursery school to 8th grade",label:"Nursery school to 8th grade",value:"Nursery school to 8th grade"},{name:"Some high school, no diploma",label:"Some high school, no diploma",value:"Some high school, no diploma"},{name:"High school graduate, diploma or the equivalent (for example: GED)",label:"High school graduate, diploma or the equivalent (for example: GED)",value:"High school graduate, diploma or the equivalent (for example: GED)"},{name:"Some college credit, no degree",label:"Some college credit, no degree",value:"Some college credit, no degree"},{name:"Trade/technical/vocational training",label:"Trade/technical/vocational training",value:"Trade/technical/vocational training"},{name:"Associate degree",label:"Associate degree",value:"Associate degree"},{name:"Bachelor\u2019s degree",label:"Bachelor\u2019s degree",value:"Bachelor\u2019s degree"},{name:"Master's degree",label:"Master's degree",value:"Master's degree"},{name:"Professional degree",label:"Professional degree",value:"Professional degree"},{name:"Doctorate degree",label:"Doctorate degree",value:"Doctorate degree"}],value:t.education}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"education"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"What is your political party affiliation?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"political",isClearable:!0,onChange:function(e,t){return t("political",e)},options:[{name:"Constitution",label:"Constitution",value:"Constitution"},{name:"Democratic",label:"Democratic",value:"Democratic"},{name:"Green",label:"Green",value:"Green"},{name:"Independent",label:"Independent",value:"Independent"},{name:"Libertarian",label:"Libertarian",value:"Libertarian"},{name:"Republican",label:"Republican",value:"Republican"},{name:"Other",label:"Other",value:"Other"},{name:"Prefer not to Answer",label:"Prefer not to Answer",value:"Prefer not to Answer"}],value:t.political}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"political"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"Do you have family members who tested positive for COVID-19?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"positive_family",isClearable:!0,onChange:function(e,t){return t("positive_family",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"},{name:"Unsure",label:"Unsure",value:"Unsure"}],value:t.positive_family}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"positive_family"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"Do you know anyone (other than family members) who tested positive for COVID-19?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"positive_anyone",isClearable:!0,onChange:function(e,t){return t("positive_anyone",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"},{name:"Unsure",label:"Unsure",value:"Unsure"}],value:t.positive_anyone}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"positive_anyone"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:"Do you work in health care?"}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",component:T,name:"healthcare_yn",isClearable:!0,onChange:function(e,t){return t("healthcare_yn",e)},options:[{name:"Yes",label:"Yes",value:"Yes"},{name:"No",label:"No",value:"No"}],value:t.healthcare_yn}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.selectFieldMessage}},name:"healthcare_yn"})]})]}),Object(v.jsxs)(D.a,{children:[Object(v.jsx)(N.a,{style:{width:"100%"},children:'If you answered yes to the above question, what is your role? Otherwise enter "NA".'}),Object(v.jsxs)(S.a,{style:{width:"100%"},md:"4",children:[Object(v.jsx)(x.a,{className:"",name:"healthcare_role",value:t.healthcare_role,type:"input",placeholder:"NA"}),Object(v.jsx)(x.b,{errorMessages:{required:function(){return t.healthcareroleFieldMessage}},name:"healthcare_role"})]})]})]}),Object(v.jsx)(C.a,{className:"mb-4",children:Object(v.jsx)(S.a,{md:"10",className:"",children:Object(v.jsx)(F,{loading:a,success:n})})})]})})}}]),a}(i.a.Component),U=(a(222),function(){return Object(v.jsxs)("div",{class:"loading",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})}),W=[{cardData:[{title:"A Step 1",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A Step 2",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A Step 3",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]},{cardData:[{title:"A",description:"A",graphData:[]},{title:"B",description:"B",graphData:[]}]}];a(16),a(30);var q=a(39);q.c.animation=!1;var L=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).data=n.props.data,n.columnNums=n.props.columnNums,n.plotOptions={responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{legend:{display:!1}}},n.createChartJsData=n.createChartJsData.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"createChartJsData",value:function(e,t,a){return{labels:e.labels.slice(t,a+1),datasets:[{data:e.values.slice(t,a+1),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}},{key:"render",value:function(){return Object(v.jsx)(q.a,{data:this.createChartJsData(this.data,this.columnNums[0],this.columnNums[1]),options:this.plotOptions,redraw:!1})}}]),a}(i.a.Component),E=(a(328),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"card",children:this.props.children})}}]),a}(i.a.Component)),J=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e="selectable "+(this.props.selected?"selected":"");return Object(v.jsx)(E,{children:Object(v.jsxs)("div",{className:e,onClick:this.props.onClick,children:[this.props.children,Object(v.jsx)("div",{className:"check",children:Object(v.jsx)("span",{className:"checkmark",children:"\u2714"})})]})})}}]),a}(i.a.Component),Y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.selected,i=e.data;return 0===i.length?Object(v.jsx)("div",{className:"col-sm-4 align-self-center",children:Object(v.jsx)(J,{onClick:this.props.onClick,selected:n,children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h1",{className:"title",children:t}),Object(v.jsx)("p",{className:"description",children:a})]})})}):Object(v.jsx)(S.a,{lg:{size:"6"},children:Object(v.jsx)(J,{onClick:this.props.onClick,selected:n,children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h1",{className:"title",children:t}),Object(v.jsx)("p",{className:"description",children:a}),Object(v.jsxs)(y.a,{fluid:!0,children:[Object(v.jsx)(L,{data:i}),Object(v.jsx)(L,{data:i}),Object(v.jsx)(L,{data:i}),Object(v.jsx)(L,{data:i}),Object(v.jsx)(L,{data:i})]})]})})})}}]),a}(i.a.Component),H=(i.a.Component,a(10)),G=a(379),R=a(380),V=a(381),z=a(382),Q=a(386),K=a(385),Z=a(388);function X(e){var t=i.a.useState(""),a=Object(H.a)(t,2),n=a[0],s=a[1];return Object(v.jsxs)(Z.a,{value:n,exclusive:!0,onChange:function(t,a){s(a),e.onSelectChange(a),e.toggleDisabled()},"aria-label":"policy choices",children:[Object(v.jsx)(K.a,{className:"bottom_navbar",value:"1",children:"Policy A"}),Object(v.jsx)(K.a,{className:"bottom_navbar",value:"-1",children:"Policy B"}),Object(v.jsx)(K.a,{className:"bottom_navbar",value:"0",children:"Indifferent"})]})}var $=function(e){var t=e.sectionNames,a=Object(n.useState)(!0),s=Object(H.a)(a,2),r=s[0],o=s[1];return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)(V.a,{color:"light",light:!0,expand:"md",fixed:"bottom",style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"},children:[Object(v.jsx)(z.a,{className:"mr-auto",navbar:!0,children:function(e){return e.map((function(e,t){return Object(v.jsx)(G.a,{children:Object(v.jsx)(R.a,{href:"#section_"+(t+1).toString(),children:e},t+1)},t+1)}))}(t)}),Object(v.jsxs)(z.a,{className:"ms-auto",navbar:!0,children:[Object(v.jsx)(X,{toggleDisabled:function(){return o(!1)},onSelectChange:e.onSelectChange}),Object(v.jsx)("span",{id:"submitWrapper",children:Object(v.jsx)(O.a,{className:"bottom_navbar_submit",id:"submitButton",disabled:r,onClick:e.submitChoice,children:"Submit Selection"})}),Object(v.jsx)(Q.a,{placement:"top",target:"submitWrapper",hidden:!r,children:"Please select an option."})]})]})})},ee=a(383),te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).data=n.props.data,n.columnNums=n.props.columnNums,n}return Object(p.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(ee.a,{children:[Object(v.jsx)("h1",{children:this.data.values.slice(this.columnNums[0],this.columnNums[1]+1).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}),Object(v.jsx)("p",{children:this.data.labels.slice(this.columnNums[0],this.columnNums[1]+1)})]})}}]),a}(i.a.Component);a(352);q.c.animation=!1;var ae=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],ne=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).plotType=n.props.plotType,n.data=n.props.data,n.columnNums=n.props.columnNums,n.plotOptions={responsive:!0,scales:{y:{ticks:{callback:function(e,t,a){return(100*e).toFixed(0)+"%"}}}},plugins:{legend:{display:!1}}},n.createChartJsData=n.createChartJsData.bind(Object(h.a)(n)),n.choosePlotType=n.choosePlotType.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"createChartJsData",value:function(e,t,a,n){var i=e.values.slice(a,n+1);this.max=i.reduce((function(e,t){return Math.max(e,t)}),0),console.log(this.max),console.log(this.plotOptions);var s=e.labels.slice(a,n+1),r=ae.slice(0,n-a+1),o=ne.slice(0,n-a+1);return"pie"===t&&(i.push(1-i[0]),s.push("Overall Probability of not surviving"),r=ae.slice(0,n-a+2),o=ne.slice(0,n-a+2),this.plotOptions={responsive:!0,scales:{y:{ticks:{display:!1},grid:{display:!1,drawBorder:!1}}},plugins:{legend:{display:!0}}}),{labels:s,datasets:[{data:i,backgroundColor:r,borderColor:o,borderWidth:1}]}}},{key:"choosePlotType",value:function(){switch(console.log("plotType ",this.plotType),this.plotType){case"bar":return Object(v.jsx)(q.a,{data:this.createChartJsData(this.data,this.plotType,this.columnNums[0],this.columnNums[1]),options:this.plotOptions,redraw:!1});case"pie":return Object(v.jsx)(q.b,{data:this.createChartJsData(this.data,this.plotType,this.columnNums[0],this.columnNums[1]),options:this.plotOptions,redraw:!1});default:return null}}},{key:"render",value:function(){return Object(v.jsx)(i.a.Fragment,{children:this.choosePlotType()})}}]),a}(i.a.Component),se=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).sectionType=n.props.sectionType,n.plotType=n.props.plotType,n.policyData=n.props.policyData,n.columnNums=n.props.columnNums,console.log("Policy data: ",n.policyData),n.sectionNum=n.props.sectionNum,n.title=n.props.title,n.generatePlotColumn=n.generatePlotColumn.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"choosePlotType",value:function(e,t,a,n,i){switch(console.log("sectionType ",e),e){case"plot":return Object(v.jsx)(ie,{plotType:t,data:a.graphData,columnNums:n},i);case"number":return Object(v.jsx)(te,{data:a.graphData,columnNums:n},i);default:return null}}},{key:"generatePlotColumn",value:function(e){var t=this;return e.map((function(e,a){return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)(S.a,{lg:"6",className:"text-center",children:[Object(v.jsxs)("h3",{children:[" Policy ",(a+1)%2===0?"B":"A"]}),t.choosePlotType(t.sectionType,t.plotType,e,t.columnNums,a)]})})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"section_container text-center",id:"section_"+this.sectionNum,children:[Object(v.jsx)("h2",{children:this.title}),Object(v.jsx)("p",{children:"Among Those Who Contracted COVID-19 and Needed Critical Care"}),Object(v.jsx)(y.a,{fluid:!0,style:{marginBottom:"5rem"},children:Object(v.jsx)(C.a,{children:this.generatePlotColumn(this.policyData)})})]})}}]),a}(i.a.Component),re=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).submitChoice=function(e){e.preventDefault(),""===n.state.selected?console.log("somehow got here, but we shouldn't be able to if we have button disabled?"):(n.incrementStep(),n.pushBackChoice(n.state.selected))},n.state={showError:!1,selected:-1},n.title=n.props.title,n.loading=n.props.loading,n.cardContents=n.props.cardContents,n.graphData=n.props.graphData,n.policy_ids=n.props.policy_ids,n.userChoices=n.props.userChoices,n.stepNum=n.props.stepNum,n.incrementStep=n.props.incrementStep,n.onListChanged=n.onListChanged.bind(Object(h.a)(n)),n.updateShowError=n.updateShowError.bind(Object(h.a)(n)),n.prepareCardData=n.prepareCardData.bind(Object(h.a)(n)),n.pushBackChoice=n.pushBackChoice.bind(Object(h.a)(n)),n.next=n.props.next,n.sectionInfo=[{sectionType:"plot",plotType:"bar",columnNums:[0,5],sectionName:"Chance of Receiving Critical Care by Age Group",sectionDescription:"Among People Who Need It"},{sectionType:"plot",plotType:"bar",columnNums:[9,14],sectionName:"Survival Probability",sectionDescription:"Chance of Surviving by Age Group"},{sectionType:"number",columnNums:[7,7],sectionName:"Life Years Saved",sectionDescription:""},{sectionType:"plot",plotType:"pie",columnNums:[8,8],sectionName:"Overall Survival Probability",sectionDescription:"Among Those Who Contracted COVID-19 and Needed Critical Care"}],n}return Object(p.a)(a,[{key:"pushBackChoice",value:function(e){this.userChoices.push(e)}},{key:"onListChanged",value:function(e){this.setState({selected:e},(function(){console.log(this.state.selected)})),this.updateShowError(!1)}},{key:"updateShowError",value:function(e){this.setState({showError:e})}},{key:"prepareCardData",value:function(e,t,a){for(var n=e,i=0;i<a.length;i++)n[i].graphData=t[a[i]];return n}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(i.a.Fragment,{children:[this.loading?Object(v.jsx)(U,{}):null,this.loading?null:Object(v.jsxs)("div",{children:[Object(v.jsxs)(y.a,{fluid:!1,children:[Object(v.jsxs)("h1",{className:"title",children:["Query ",this.stepNum]}),this.sectionInfo.map((function(t,a){return Object(v.jsx)(se,{plotType:t.plotType,sectionType:t.sectionType,policyData:e.prepareCardData(e.cardContents,e.graphData,e.policy_ids),sectionNum:a+1,columnNums:t.columnNums,title:t.sectionName,description:t.sectionDescription},a)}))]}),Object(v.jsx)($,{sectionNames:this.sectionInfo.map((function(e,t){return e.sectionName})),onSelectChange:this.onListChanged,submitChoice:this.submitChoice})]})]})}}]),a}(i.a.Component),oe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).stepNum=n.props.stepNum,n.currentStep=n.props.currentStep,n.data=n.props.data,n.loading=n.props.loading,n.userChoices=n.props.userChoices,n.incrementStep=n.props.incrementStep,n.policyData=n.props.policyData,n.policy_ids=n.props.policy_ids,n}return Object(p.a)(a,[{key:"render",value:function(){return this.currentStep!==this.stepNum?null:Object(v.jsx)(re,{title:"TEST",cardContents:this.data.cardData,loading:this.loading,userChoices:this.userChoices,incrementStep:this.incrementStep,graphData:this.policyData,policy_ids:this.policy_ids,stepNum:this.stepNum})}}]),a}(i.a.Component),ce=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).userChoices=n.props.userChoices,n.maxSteps=n.props.maxSteps,n.choiceData=n.props.choiceData,n.currentStep=n.props.currentStep,n.loading=n.props.loading,n.incrementStep=n.props.incrementStep,n.policyData=n.props.policyData,n.policy_ids=n.props.policy_ids,n.sectionNames=n.props.sectionNames,n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=Array(this.maxSteps).fill().map((function(e,t){return t+1}));return Object(v.jsx)(y.a,{fluid:!0,children:t.map((function(t){return Object(v.jsx)(oe,{stepNum:t,currentStep:e.currentStep,data:e.choiceData[t-1],loading:e.loading,userChoices:e.userChoices,incrementStep:e.incrementStep,policyData:e.policyData,policy_ids:e.policy_ids,sectionNames:e.sectionNames},t.toString())}))})}}]),a}(i.a.Component),le=a(153),ue=a.p+"static/media/UK_1360beds-25policies.175504d1.csv",pe=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(le.a)().key((function(e){return e.Parameter})).entries(t),n=a.map((function(e){var t=e.values[0];delete t.Parameter;var a=Object.keys(t).map((function(e){return Number(t[e])})),n=Object.keys(t).map((function(e){return e}));return{policy_id:e.key,values:a,labels:n}})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=a(60),de=a(384),me=function(e){var t=Object(n.useState)(!1),a=Object(H.a)(t,2);a[0],a[1];return Object(v.jsx)(V.a,{color:"light",light:!0,expand:"md",style:{paddingLeft:"1.5rem"},children:Object(v.jsxs)(de.a,{href:"/",children:["Active Preference Elicitation ",Object(v.jsx)("span",{role:"img","aria-label":"crystal ball",children:"\ud83d\udd2e"})]})})},be=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentStep:0,userChoices:[],loading:!1,showUserInfoForm:!1,showStartPage:!0,showSteps:!1,policy_ids:[0,1],policyData:[],userInfo:{username:"",age:"",race_ethnicity:"",gender:"",marital_status:"",education:"",political:"",positive_family:"",positive_anyone:"",healthcare_yn:"",healthcare_role:""}},n.maxSteps=W.length,n.uuid=Object(b.a)(),n.choiceData=W,n.toggleUserInfoForm=n.toggleUserInfoForm.bind(Object(h.a)(n)),n.toggleStartPage=n.toggleStartPage.bind(Object(h.a)(n)),n.updateUserInfo=n.updateUserInfo.bind(Object(h.a)(n)),n.incrementStep=n.incrementStep.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"incrementStep",value:function(){this.setState({currentStep:this.state.currentStep+1},(function(){console.log(this.state.currentStep)})),0===this.state.currentStep&&this.toggleShowSteps()}},{key:"toggleShowSteps",value:function(){this.setState({showSteps:!this.state.showSteps})}},{key:"toggleStartPage",value:function(){this.setState({showStartPage:!this.state.showStartPage})}},{key:"toggleUserInfoForm",value:function(){this.setState({showUserInfoForm:!this.state.showUserInfoForm})}},{key:"updateUserInfo",value:function(e){var t=g.a.omit(e,["defaultMessage","selectFieldMessage","usernameFieldMessage","healthcareroleFieldMessage"]);this.setState({userInfo:t},(function(){console.log(this.state.userInfo)}))}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)(ue);case 2:return t=e.sent,e.next=5,pe(t);case 5:a=e.sent,this.setState({policyData:a},(function(){console.log(this.state.policyData)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(me,{}),Object(v.jsxs)(y.a,{fluid:!0,style:{marginTop:"1rem",marginBottom:"10rem"},children:[Object(v.jsx)(f,{showStartPage:this.state.showStartPage,toggleStartPage:this.toggleStartPage,toggleUserInfoForm:this.toggleUserInfoForm}),Object(v.jsx)(B,{showForm:this.state.showUserInfoForm,toggleUserInfoForm:this.toggleUserInfoForm,updateUserInfo:this.updateUserInfo,incrementStep:this.incrementStep}),this.state.showSteps?Object(v.jsx)(ce,{userChoices:this.state.userChoices,maxSteps:this.maxSteps,choiceData:this.choiceData,policyData:this.state.policyData,policy_ids:this.state.policy_ids,currentStep:this.state.currentStep,loading:this.state.loading,incrementStep:this.incrementStep},this.state.currentStep.toString()):null]})]})}}]),a}(i.a.Component),je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,389)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),s(e),r(e)}))};r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(be,{})}),document.getElementById("root")),je()},58:function(e,t){t.defaultMessage="Please fill out all required fields",t.selectFieldMessage="Please select one of the options",t.usernameFieldMessage="Please enter a Worker ID",t.healthcareroleFieldMessage="If you chose yes to the above question, please enter in your job title. Otherwise please enter in NA."}},[[353,1,2]]]);
//# sourceMappingURL=main.8c4ef88f.chunk.js.map