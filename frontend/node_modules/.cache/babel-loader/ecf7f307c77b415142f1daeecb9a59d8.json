{"ast":null,"code":"var _jsxFileName = \"/Users/patrick/ape_code/src/BarChart.js\",\n    _s = $RefreshSig$();\n\nimport { useD3 } from './hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BarChart({\n  data\n}) {\n  _s();\n\n  const ref = useD3(svg => {\n    const height = 500;\n    const width = 500;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const x = d3.scaleBand().domain(data.map(d => d.year)).rangeRound([margin.left, width - margin.right]).padding(0.1);\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n\n    const xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n\n    const y1Axis = g => g.attr(\"transform\", `translate(${margin.left},0)`).style(\"color\", \"steelblue\").call(d3.axisLeft(y1).ticks(null, \"s\")).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"x\", -margin.left).attr(\"y\", 10).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").text(data.y1));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(y1Axis);\n    svg.select(\".plot-area\").attr(\"fill\", \"steelblue\").selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.year)).attr(\"width\", x.bandwidth()).attr(\"y\", d => y1(d.sales)).attr(\"height\", d => y1(0) - y1(d.sales));\n  }, [data.length]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: 500,\n      width: \"100%\",\n      marginRight: \"0px\",\n      marginLeft: \"0px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot-area\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = BarChart;\nexport default BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"sources":["/Users/patrick/ape_code/src/BarChart.js"],"names":["useD3","React","d3","BarChart","data","ref","svg","height","width","margin","top","right","bottom","left","x","scaleBand","domain","map","d","year","rangeRound","padding","y1","scaleLinear","max","sales","xAxis","g","attr","call","axisBottom","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","style","axisLeft","select","remove","append","text","selectAll","join","bandwidth","length","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import { useD3 } from './hooks/useD3';\n\nimport React from 'react';\n\nimport * as d3 from 'd3';\n\n\nfunction BarChart({ data }) {\n\n  const ref = useD3(\n\n    (svg) => {\n\n      const height = 500;\n\n      const width = 500;\n\n      const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n\n      const x = d3\n\n        .scaleBand()\n\n        .domain(data.map((d) => d.year))\n\n        .rangeRound([margin.left, width - margin.right])\n\n        .padding(0.1);\n\n\n      const y1 = d3\n\n        .scaleLinear()\n\n        .domain([0, d3.max(data, (d) => d.sales)])\n\n        .rangeRound([height - margin.bottom, margin.top]);\n\n\n      const xAxis = (g) =>\n\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n\n          d3\n\n            .axisBottom(x)\n\n            .tickValues(\n\n              d3\n\n                .ticks(...d3.extent(x.domain()), width / 40)\n\n                .filter((v) => x(v) !== undefined)\n\n            )\n\n            .tickSizeOuter(0)\n\n        );\n\n\n      const y1Axis = (g) =>\n\n        g\n\n          .attr(\"transform\", `translate(${margin.left},0)`)\n\n          .style(\"color\", \"steelblue\")\n\n          .call(d3.axisLeft(y1).ticks(null, \"s\"))\n\n          .call((g) => g.select(\".domain\").remove())\n\n          .call((g) =>\n\n            g\n\n              .append(\"text\")\n\n              .attr(\"x\", -margin.left)\n\n              .attr(\"y\", 10)\n\n              .attr(\"fill\", \"currentColor\")\n\n              .attr(\"text-anchor\", \"start\")\n\n              .text(data.y1)\n\n          );\n\n\n      svg.select(\".x-axis\").call(xAxis);\n\n      svg.select(\".y-axis\").call(y1Axis);\n\n\n      svg\n\n        .select(\".plot-area\")\n\n        .attr(\"fill\", \"steelblue\")\n\n        .selectAll(\".bar\")\n\n        .data(data)\n\n        .join(\"rect\")\n\n        .attr(\"class\", \"bar\")\n\n        .attr(\"x\", (d) => x(d.year))\n\n        .attr(\"width\", x.bandwidth())\n\n        .attr(\"y\", (d) => y1(d.sales))\n\n        .attr(\"height\", (d) => y1(0) - y1(d.sales));\n\n    },\n\n    [data.length]\n\n  );\n\n\n  return (\n\n    <svg\n\n      ref={ref}\n\n      style={{\n\n        height: 500,\n\n        width: \"100%\",\n\n        marginRight: \"0px\",\n\n        marginLeft: \"0px\",\n\n      }}\n\n    >\n\n      <g className=\"plot-area\" />\n\n      <g className=\"x-axis\" />\n\n      <g className=\"y-axis\" />\n\n    </svg>\n\n  );\n\n}\n\n\nexport default BarChart;"]},"metadata":{},"sourceType":"module"}